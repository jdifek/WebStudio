---
import Layout from '../../layouts/Layout.astro';
import ContactSection from '../../components/ContactSection.astro';

const offices = [
  {
    city: "Таллинн",
    address: "Нарва мнт. 7, 10117",
    email: "tallinn@webstudio.com",
    phone: "+372 5555 5555"
  },
  {
    city: "Тарту",
    address: "Рюютли 2, 51007",
    email: "tartu@webstudio.com",
    phone: "+372 5555 5556"
  },
  {
    city: "Хельсинки",
    address: "Mannerheimintie 20, 00100",
    email: "helsinki@webstudio.com",
    phone: "+358 40 1234567"
  }
];
---

<Layout
  title="Контакты | WebStudio - Свяжитесь с нами"
  description="Свяжитесь с WebStudio для обсуждения вашего проекта. Мы всегда рады новым вызовам и интересным задачам."
  language="ru"
>
  <section class="contact-hero">
    <div class="container">
      <h1 class="contact-title" data-aos="fade-up">Свяжитесь с нами</h1>
      <p class="contact-subtitle" data-aos="fade-up" data-aos-delay="100">
        Мы всегда рады новым проектам и интересным задачам
      </p>
    </div>
  </section>

  <section class="offices-section">
    <div class="container">
      <h2 class="offices-title" data-aos="fade-up">Наши офисы</h2>
      <div class="offices-grid">
        {offices.map((office, index) => (
          <div class="office-card" data-aos="fade-up" data-aos-delay={index * 100}>
            <h3 class="office-city">{office.city}</h3>
            <p class="office-address">{office.address}</p>
            <p class="office-contact">
              <a href={`mailto:${office.email}`}>{office.email}</a>
            </p>
            <p class="office-contact">
              <a href={`tel:${office.phone.replace(/\s/g, '')}`}>{office.phone}</a>
            </p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <ContactSection
    sectionTitle="Напишите нам"
    sectionSubtitle="Заполните форму ниже, и мы свяжемся с вами в течение 24 часов"
    address="Таллинн, Эстония"
    email="info@webstudio.com"
    phone="+372 5555 5555"
    formNameLabel="Ваше имя"
    formEmailLabel="Ваш email"
    formMessageLabel="Сообщение"
    formSubmitText="Отправить"
  />

  <section class="map-section">
    <div class="container">
      <div class="map-container" data-aos="fade-up">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2028.6871597772074!2d24.753435377319247!3d59.43723997498756!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4692935c7ed21b5b%3A0x1f79f4fe9ac7c44f!2sNarva%20mnt%207%2C%2010117%20Tallinn!5e0!3m2!1sen!2see!4v1689612345678!5m2!1sen!2see"
          width="100%"
          height="450"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </div>
  </section>
</Layout>

<style>
  .contact-hero {
    padding: 120px 0 60px;
    background-color: var(--color-bg-light);
    text-align: center;
  }

  .contact-title {
    font-size: 3rem;
    margin-bottom: 1.5rem;
    color: var(--color-text-dark);
  }

  .contact-subtitle {
    font-size: 1.25rem;
    color: var(--color-text-muted);
    max-width: 800px;
    margin: 0 auto;
  }

  .offices-section {
    padding: 100px 0;
    background-color: var(--color-white);
  }

  .offices-title {
    font-size: 2.5rem;
    text-align: center;
    margin-bottom: 64px;
    color: var(--color-text-dark);
  }

  .offices-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 32px;
  }

  .office-card {
    background-color: var(--color-bg-light);
    border-radius: 8px;
    padding: 32px;
    text-align: center;
  }

  .office-city {
    font-size: 1.5rem;
    margin-bottom: 16px;
    color: var(--color-text-dark);
  }

  .office-address {
    font-size: 1rem;
    color: var(--color-text-muted);
    margin-bottom: 16px;
  }

  .office-contact {
    margin-bottom: 8px;
  }

  .office-contact a {
    color: var(--color-primary-500);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .office-contact a:hover {
    color: var(--color-primary-700);
  }

  .map-section {
    padding: 100px 0;
    background-color: var(--color-bg-light);
  }

  .map-container {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
  }

  @media (max-width: 992px) {
    .offices-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 768px) {
    .contact-hero {
      padding: 100px 0 50px;
    }

    .contact-title {
      font-size: 2.5rem;
    }

    .offices-grid {
      grid-template-columns: 1fr;
    }
  }
</style>